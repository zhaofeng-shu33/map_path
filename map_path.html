<!DOCTYPE html>  
<html>  
<head>  
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />  
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
    <title>MapPath</title>  
    <style type="text/css">  
        html{height:100%}  
        body{height:100%;margin:0px;padding:0px}  
        #container{height:100%}  
    </style>  
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=Sl7N4CGvA3UUPYM8ztw2xQtTIiy6SfFI"></script>
</head>  
<body>
<div id="container"></div>
</body>  
<script src="map_data.js"></script>
<script type="text/javascript">
    const DEBUG = true;
    const x_final = 114.007879, y_final = 22.600628;
    const x_measure_final = 114.00142432200855, y_measure_final = 22.59425470070209;
    const x_offset = x_final - x_measure_final, y_offset = y_final - y_measure_final;
    var map = new BMap.Map("container");      
    var point = new BMap.Point(113.990784,22.596307);  // fine tuned, see http://api.map.baidu.com/lbsapi/getpoint/index.html for detail
    map.centerAndZoom(point, 17);         // fine tuned zooming level
    map.enableScrollWheelZoom(true);     
    
    var point_list = [];
    for(var i = 0; i < map_data.length; i++){
        point_list.push(new BMap.Point(map_data[i][0] + x_offset, map_data[i][1] + + y_offset));
    }
    var polyline = new BMap.Polyline(point_list,
        {strokeColor:"blue", strokeWeight:6, strokeOpacity:0.5}
        );
    if(DEBUG){
        for(var i = 0; i < map_data.length; i++){
            var label_str = String(map_data[i][2])
            var marker = new BMap.Label(label_str, {position: point_list[i]});
            map.addOverlay(marker);
        }        
    }
    map.addOverlay(polyline);    
</script>

</html>
